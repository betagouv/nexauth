# Lifecycle

```txt
┌─────┐                                                                  ┌─────┐
│ APP │                                                                  │ API │
└──┬──┘                                                                  └──┬──┘
   │                                                                        │
   │ POST /api/auth/login                                                   │
   │ {                                                                      │
   │   email: "..."                                                         │
   │   password: "..."                                                      │
   │ }                                                                      │
 1 ├───────────────────────────────────────────────────────────────────────►│
   │                                                                        │
   │                                   New Access Token + New Refresh Token │
   │◄───────────────────────────────────────────────────────────────────────┤ 2
   │                                                                        │
   │                                                                        │
 3 ├──┐                                                                     │
   │  │ Store Refresh Token in Local Storage                                │
   │◄─┘                                                                     │
   │                                                                        │
   │ Send authenticated requests with header:                               │
   │ {                                                                      │
   │   Authorization: "Bearer [ACCESS_TOKEN]"                               │
   │ }                                                                      │
 4 ├───────────────────────────────────────────────────────────────────────►│
   │                                                                        │
   │                                                                        │
┌──┴────────────────────────────────────────────────────────────────────────┴──┐
│                         Access Token expires                                 │
└──┬────────────────────────────────────────────────────────────────────────┬──┘
   │                                                                        │
   │ POST /api/auth/refresh                                                 │
   │ {                                                                      │
   │   refreshToken: "[REFRESH_TOKEN]"                                      │
   │ }                                                                      │
   ├───────────────────────────────────────────────────────────────────────►│
   │                                                                        │
   │                                                                        │
   │                                   New Access Token + New Refresh Token │
   │◄───────────────────────────────────────────────────────────────────────┤
   ⁞                                                                        ⁞
```
